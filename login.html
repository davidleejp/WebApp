<html lang="ja">

<head>
    <title>Login</title>
    <meta name="charset" content="UTF-8" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="viewport"
        content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />
    <link rel="stylesheet" href="./style/main.css" />
    <link rel="manifest" href="./manifest.json" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script>
        // SW登録
        var appVerb = '3.2';
        var swPath = './service-worker.js';
        const storeageName = 'sw_version'; 
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register(swPath).then(reg => {
                console.log('Service Worker Registered');
                if (!localStorage.getItem(storeageName)) {
                    localStorage.setItem(storeageName, appVerb);
                } else if ( localStorage.getItem(storeageName) !== appVerb) {
                    reg.update().then(function () {
                        localStorage.setItem(storeageName, appVerb)
                    });
                } else {
                    // do nothing
                }
            });
        }

        function updateLocalStorage(key, val) {
            localStorage.setItem(storeageName, appVerb)
        }

        $(function () {
            // login 処理
            $('#btnLogin').click(function () {
                let userName, userPwd = '';
                userName = $('#txtUserName').val();
                userPwd = $('#txtUserPwd').val();
                console.log('username:' + userName + ', userpwd:' + userPwd);
                return true;
            })
        })
    </script>
</head>
<body>
    <div class="header">現場支援システム</div>
    <div class="content">
        <form action="./home.html" method="GET" id="frmLogin" name="frmLogin">
            <ul class="list">
                <li>
                    <input type="text" id="txtUserName" name="userName" class="text" maxlength="32" />
                </li>
                <li>
                    <input type="password" id="txtUserPwd" name="userPwd" class="text" maxlength="16" />
                </li>
                <li>
                    <button class="btn" id="btnLogin" type="submit">ログイン</button>
                </li>
                <li>
                    <a href="./forgot_pwd.html" class="info">パスワードを忘れた場合</a>
                </li>
            </ul>

        </form>
    </div>
    <div class="footer"></div>
</body>

</html>